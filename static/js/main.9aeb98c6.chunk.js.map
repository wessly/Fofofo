{"version":3,"sources":["modules/auth.js","app/components/page/index.js","modules/profile.js","app/assets/logo.jpg","app/assets/pekka.jpg","app/assets/arvidsson.jpg","modules/index.js","store.js","app/header.js","app/components/authenticated-route/index.js","app/components/unauthenticated-route/index.js","app/routes/not-found/index.js","app/routes/index.js","app/app.js","index.js"],"names":["initialState","isAuthenticated","currentUser","__webpack_exports__","state","arguments","length","undefined","action","type","Object","C_Users_wessly_Desktop_Code_react_test_ssr_cra_ssr_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","authenticated","user","setCurrentUser","dispatch","Promise","resolve","Cookies","set","establishCurrentUser","userFromCookie","getJSON","loginUser","email","password","reject","name","logoutUser","remove","SITE_URL","defaultImage","concat","logo","Page","pathname","title","_ref","description","image","contentType","twitter","noCrawl","published","updated","category","tags","theTitle","substring","theDescription","theImage","metaTags","itemprop","content","property","push","_this$props","this","props","children","id","className","rest","C_Users_wessly_Desktop_Code_react_test_ssr_cra_ssr_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","react_helmet__WEBPACK_IMPORTED_MODULE_8___default","htmlAttributes","lang","itemscope","itemtype","schema","link","rel","href","location","meta","getMetaTags","Component","withRouter","currentProfile","profile","getCurrentProfile","setTimeout","pekka","arvidsson","removeCurrentProfile","module","exports","__webpack_require__","p","combineReducers","auth","isServer","window","document","links","to","text","HeaderLink","current","react_default","includes","isCurrent","Link","header","_ref2","map","index","TheLink","header_HeaderLink","assign","key","hasOwnProperty","connect","component","objectWithoutProperties","Route","render","Redirect","query","queryString","parse","search","redirect","not_found","page","Homepage","Loadable","loader","e","then","bind","loading","modules","About","Dashboard","Login","Logout","Profile","routes","Switch","exact","path","authenticated_route","unauthenticated_route","NotFound","App","bindActionCreators","url","history","createMemoryHistory","initialEntries","createBrowserHistory","middleware","thunk","routerMiddleware","composedEnhancers","compose","apply","applyMiddleware","__PRELOADED_STATE__","store","createStore","connectRouter","rootReducer","Application","es","connected_react_router_lib","react_frontload_lib","noServerRender","app_app","root","querySelector","hasChildNodes","preloadReady","hydrate"],"mappings":"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","file":"static/js/main.9aeb98c6.chunk.js","sourcesContent":["import Cookies from 'js-cookie';\r\n\r\nexport const AUTHENTICATE = 'auth/AUTHENTICATE';\r\nexport const SET_CURRENT_USER = 'auth/SET_CURRENT_USER';\r\n\r\nconst initialState = {\r\n  isAuthenticated: false,\r\n  currentUser: {}\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case AUTHENTICATE:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: action.authenticated\r\n      };\r\n\r\n    case SET_CURRENT_USER:\r\n      return {\r\n        ...state,\r\n        currentUser: action.user\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setCurrentUser = user => dispatch =>\r\n  new Promise(resolve => {\r\n    dispatch({\r\n      type: SET_CURRENT_USER,\r\n      user\r\n    });\r\n\r\n    Cookies.set('mywebsite', user);\r\n\r\n    dispatch({\r\n      type: AUTHENTICATE,\r\n      authenticated: true\r\n    });\r\n\r\n    resolve(user);\r\n  });\r\n\r\nexport const establishCurrentUser = () => dispatch =>\r\n  new Promise(resolve => {\r\n    let userFromCookie = Cookies.getJSON('mywebsite');\r\n\r\n    if (userFromCookie) {\r\n      dispatch(setCurrentUser(userFromCookie));\r\n      resolve(userFromCookie);\r\n    } else {\r\n      resolve({});\r\n    }\r\n  });\r\n\r\nexport const loginUser = (email, password) => dispatch =>\r\n  new Promise((resolve, reject) => {\r\n    const user = {\r\n      email,\r\n      password,\r\n      name: 'Awesome User'\r\n    };\r\n\r\n    dispatch(setCurrentUser(user));\r\n    resolve(user);\r\n  });\r\n\r\nexport const logoutUser = () => dispatch =>\r\n  new Promise(resolve => {\r\n    dispatch({\r\n      type: AUTHENTICATE,\r\n      authenticated: false\r\n    });\r\n\r\n    dispatch({\r\n      type: SET_CURRENT_USER,\r\n      user: {}\r\n    });\r\n\r\n    Cookies.remove('mywebsite');\r\n    resolve({});\r\n  });\r\n","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport Helmet from 'react-helmet';\r\nimport logo from '../../assets/logo.jpg';\r\n\r\nconst SITE_URL =\r\n  process.env.NODE_ENV === 'development'\r\n    ? 'http://localhost:3000'\r\n    : 'https://cra-ssr.herokuapp.com';\r\n\r\nconst FACEBOOK_APP_ID = 'XXXXXXXXX';\r\n\r\nconst defaultTitle = 'My Website';\r\nconst defaultDescription =\r\n  'This is a really awesome website where we can render on the server. Supa cool.';\r\nconst defaultImage = `${SITE_URL}${logo}`;\r\nconst defaultTwitter = '@cereallarceny';\r\nconst defaultSep = ' | ';\r\n\r\nclass Page extends Component {\r\n  getMetaTags(\r\n    {\r\n      title,\r\n      description,\r\n      image,\r\n      contentType,\r\n      twitter,\r\n      noCrawl,\r\n      published,\r\n      updated,\r\n      category,\r\n      tags\r\n    },\r\n    pathname\r\n  ) {\r\n    const theTitle = title\r\n      ? (title + defaultSep + defaultTitle).substring(0, 60)\r\n      : defaultTitle;\r\n    const theDescription = description\r\n      ? description.substring(0, 155)\r\n      : defaultDescription;\r\n    const theImage = image ? `${SITE_URL}${image}` : defaultImage;\r\n\r\n    const metaTags = [\r\n      { itemprop: 'name', content: theTitle },\r\n      { itemprop: 'description', content: theDescription },\r\n      { itemprop: 'image', content: theImage },\r\n      { name: 'description', content: theDescription },\r\n      { name: 'twitter:card', content: 'summary_large_image' },\r\n      { name: 'twitter:site', content: defaultTwitter },\r\n      { name: 'twitter:title', content: theTitle },\r\n      { name: 'twitter:description', content: theDescription },\r\n      { name: 'twitter:creator', content: twitter || defaultTwitter },\r\n      { name: 'twitter:image:src', content: theImage },\r\n      { property: 'og:title', content: theTitle },\r\n      { property: 'og:type', content: contentType || 'website' },\r\n      { property: 'og:url', content: SITE_URL + pathname },\r\n      { property: 'og:image', content: theImage },\r\n      { property: 'og:description', content: theDescription },\r\n      { property: 'og:site_name', content: defaultTitle },\r\n      { property: 'fb:app_id', content: FACEBOOK_APP_ID }\r\n    ];\r\n\r\n    if (noCrawl) {\r\n      metaTags.push({ name: 'robots', content: 'noindex, nofollow' });\r\n    }\r\n\r\n    if (published) {\r\n      metaTags.push({ name: 'article:published_time', content: published });\r\n    }\r\n    if (updated) {\r\n      metaTags.push({ name: 'article:modified_time', content: updated });\r\n    }\r\n    if (category) {\r\n      metaTags.push({ name: 'article:section', content: category });\r\n    }\r\n    if (tags) {\r\n      metaTags.push({ name: 'article:tag', content: tags });\r\n    }\r\n\r\n    return metaTags;\r\n  }\r\n\r\n  render() {\r\n    const { children, id, className, ...rest } = this.props;\r\n\r\n    return (\r\n      <div id={id} className={className}>\r\n        <Helmet\r\n          htmlAttributes={{\r\n            lang: 'en',\r\n            itemscope: undefined,\r\n            itemtype: `http://schema.org/${rest.schema || 'WebPage'}`\r\n          }}\r\n          title={\r\n            rest.title ? rest.title + defaultSep + defaultTitle : defaultTitle\r\n          }\r\n          link={[\r\n            {\r\n              rel: 'canonical',\r\n              href: SITE_URL + this.props.location.pathname\r\n            }\r\n          ]}\r\n          meta={this.getMetaTags(rest, this.props.location.pathname)}\r\n        />\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Page);\r\n","import pekka from '../app/assets/pekka.jpg';\r\nimport arvidsson from '../app/assets/arvidsson.jpg';\r\n\r\nexport const SET_CURRENT_PROFILE = 'auth/SET_CURRENT_PROFILE';\r\n\r\nconst initialState = {\r\n  currentProfile: {}\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_CURRENT_PROFILE:\r\n      return {\r\n        ...state,\r\n        currentProfile: action.profile\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const getCurrentProfile = id => dispatch =>\r\n  new Promise(resolve => {\r\n    setTimeout(() => {\r\n      let profile;\r\n\r\n      if (id === 1) {\r\n        profile = {\r\n          id,\r\n          name: 'Pekka Rinne',\r\n          image: pekka\r\n        };\r\n      } else {\r\n        profile = {\r\n          id,\r\n          name: 'Viktor Arvidsson',\r\n          image: arvidsson\r\n        };\r\n      }\r\n\r\n      dispatch({\r\n        type: SET_CURRENT_PROFILE,\r\n        profile\r\n      });\r\n\r\n      resolve(profile);\r\n    }, 3000);\r\n  });\r\n\r\nexport const removeCurrentProfile = () => dispatch =>\r\n  new Promise(resolve => {\r\n    dispatch({\r\n      type: SET_CURRENT_PROFILE,\r\n      profile: {}\r\n    });\r\n\r\n    resolve({});\r\n  });\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.8caa15b8.jpg\";","module.exports = __webpack_public_path__ + \"static/media/pekka.1eab475c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/arvidsson.4d6f8e0d.jpg\";","import { combineReducers } from 'redux';\r\n\r\nimport auth from './auth';\r\nimport profile from './profile';\r\n\r\nexport default combineReducers({\r\n  auth,\r\n  profile\r\n});\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport { connectRouter, routerMiddleware } from 'connected-react-router';\r\nimport thunk from 'redux-thunk';\r\nimport { createBrowserHistory, createMemoryHistory } from 'history';\r\nimport rootReducer from './modules';\r\n\r\n// A nice helper to tell us if we're on the server\r\nexport const isServer = !(\r\n  typeof window !== 'undefined' &&\r\n  window.document &&\r\n  window.document.createElement\r\n);\r\n\r\nexport default (url = '/') => {\r\n  // Create a history depending on the environment\r\n  const history = isServer\r\n    ? createMemoryHistory({\r\n        initialEntries: [url]\r\n      })\r\n    : createBrowserHistory();\r\n\r\n  const enhancers = [];\r\n\r\n  // Dev tools are helpful\r\n  if (process.env.NODE_ENV === 'development' && !isServer) {\r\n    const devToolsExtension = window.devToolsExtension;\r\n\r\n    if (typeof devToolsExtension === 'function') {\r\n      enhancers.push(devToolsExtension());\r\n    }\r\n  }\r\n\r\n  const middleware = [thunk, routerMiddleware(history)];\r\n  const composedEnhancers = compose(\r\n    applyMiddleware(...middleware),\r\n    ...enhancers\r\n  );\r\n\r\n  // Do we have preloaded state available? Great, save it.\r\n  const initialState = !isServer ? window.__PRELOADED_STATE__ : {};\r\n\r\n  // Delete it once we have it stored in a variable\r\n  if (!isServer) {\r\n    delete window.__PRELOADED_STATE__;\r\n  }\r\n\r\n  // Create the store\r\n  const store = createStore(\r\n    connectRouter(history)(rootReducer),\r\n    initialState,\r\n    composedEnhancers\r\n  );\r\n\r\n  return {\r\n    store,\r\n    history\r\n  };\r\n};\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst links = [\r\n  {\r\n    to: '/',\r\n    text: 'Homepage'\r\n  },\r\n  {\r\n    to: '/about',\r\n    text: 'About'\r\n  },\r\n  {\r\n    to: '/profile/1',\r\n    text: 'Profile 1'\r\n  },\r\n  {\r\n    to: '/profile/2',\r\n    text: 'Profile 2'\r\n  },\r\n  {\r\n    to: '/login',\r\n    text: 'Login',\r\n    auth: false\r\n  },\r\n  {\r\n    to: '/dashboard',\r\n    text: 'Dashboard',\r\n    auth: true\r\n  },\r\n  {\r\n    to: '/logout',\r\n    text: 'Logout',\r\n    auth: true\r\n  },\r\n  {\r\n    to: '/this-is-broken',\r\n    text: 'Broken Page'\r\n  }\r\n];\r\n\r\nconst isCurrent = (to, current) => {\r\n  if (to === '/' && current === to) {\r\n    return true;\r\n  } else if (to !== '/' && current.includes(to)) {\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\nconst HeaderLink = ({ to, text, current }) => (\r\n  <li className={isCurrent(to, current) ? 'current' : ''}>\r\n    <Link to={to}>{text}</Link>\r\n  </li>\r\n);\r\n\r\nexport default ({ isAuthenticated, current }) => (\r\n  <header id=\"header\">\r\n    <h1 id=\"title\">My awesome website</h1>\r\n    <ul id=\"links\">\r\n      {links.map((link, index) => {\r\n        const TheLink = <HeaderLink key={index} current={current} {...link} />;\r\n\r\n        if (link.hasOwnProperty('auth')) {\r\n          if (link.auth && isAuthenticated) {\r\n            return TheLink;\r\n          } else if (!link.auth && !isAuthenticated) {\r\n            return TheLink;\r\n          }\r\n\r\n          return null;\r\n        }\r\n\r\n        return TheLink;\r\n      })}\r\n    </ul>\r\n  </header>\r\n);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst AuthenticatedRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      rest.isAuthenticated ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect to={`/login?redirect=${props.location.pathname}`} />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.auth.isAuthenticated\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  null\r\n)(AuthenticatedRoute);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport queryString from 'query-string';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst UnauthenticatedRoute = ({ component: Component, ...rest }) => {\r\n  let query = queryString.parse(rest.location.search);\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        !rest.isAuthenticated ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to={query.redirect || '/dashboard'} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.auth.isAuthenticated\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  null\r\n)(UnauthenticatedRoute);\r\n","import React from 'react';\r\nimport Page from '../../components/page';\r\n\r\nexport default () => (\r\n  <Page\r\n    id=\"not-found\"\r\n    title=\"Not Found\"\r\n    description=\"This is embarrassing.\"\r\n    noCrawl\r\n  >\r\n    <p>Super embarrassing.</p>\r\n  </Page>\r\n);\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport AuthenticatedRoute from '../components/authenticated-route';\r\nimport UnauthenticatedRoute from '../components/unauthenticated-route';\r\nimport Loadable from 'react-loadable';\r\n\r\nimport NotFound from './not-found';\r\n\r\nconst Homepage = Loadable({\r\n  loader: () => import(/* webpackChunkName: \"homepage\" */ './homepage'),\r\n  loading: () => null,\r\n  modules: ['homepage']\r\n});\r\n\r\nconst About = Loadable({\r\n  loader: () => import(/* webpackChunkName: \"about\" */ './about'),\r\n  loading: () => null,\r\n  modules: ['about']\r\n});\r\n\r\nconst Dashboard = Loadable({\r\n  loader: () => import(/* webpackChunkName: \"dashboard\" */ './dashboard'),\r\n  loading: () => null,\r\n  modules: ['dashboard']\r\n});\r\n\r\nconst Login = Loadable({\r\n  loader: () => import(/* webpackChunkName: \"login\" */ './login'),\r\n  loading: () => null,\r\n  modules: ['login']\r\n});\r\n\r\nconst Logout = Loadable({\r\n  loader: () => import(/* webpackChunkName: \"logout\" */ './logout'),\r\n  loading: () => null,\r\n  modules: ['logout']\r\n});\r\n\r\nconst Profile = Loadable({\r\n  loader: () => import(/* webpackChunkName: \"profile\" */ './profile'),\r\n  loading: () => null,\r\n  modules: ['profile']\r\n});\r\n\r\nexport default () => (\r\n  <Switch>\r\n    <Route exact path=\"/\" component={Homepage} />\r\n    <Route exact path=\"/about\" component={About} />\r\n\r\n    <Route exact path=\"/profile/:id\" component={Profile} />\r\n\r\n    <AuthenticatedRoute exact path=\"/dashboard\" component={Dashboard} />\r\n\r\n    <UnauthenticatedRoute exact path=\"/login\" component={Login} />\r\n    <AuthenticatedRoute exact path=\"/logout\" component={Logout} />\r\n\r\n    <Route component={NotFound} />\r\n  </Switch>\r\n);\r\n","// The basics\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { withRouter } from 'react-router';\r\n\r\n// Action creators and helpers\r\nimport { establishCurrentUser } from '../modules/auth';\r\nimport { isServer } from '../store';\r\n\r\nimport Header from './header';\r\nimport Routes from './routes';\r\n\r\nimport './app.css';\r\n\r\nclass App extends Component {\r\n  componentWillMount() {\r\n    if (!isServer) {\r\n      this.props.establishCurrentUser();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"app\">\r\n        <Header\r\n          isAuthenticated={this.props.isAuthenticated}\r\n          current={this.props.location.pathname}\r\n        />\r\n        <div id=\"content\">\r\n          <Routes />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.auth.isAuthenticated\r\n});\r\n\r\nconst mapDispatchToProps = dispatch =>\r\n  bindActionCreators({ establishCurrentUser }, dispatch);\r\n\r\nexport default withRouter(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(App)\r\n);\r\n","import React from 'react';\r\nimport { render, hydrate } from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport Loadable from 'react-loadable';\r\nimport { Frontload } from 'react-frontload';\r\nimport { ConnectedRouter } from 'connected-react-router';\r\nimport createStore from './store';\r\n\r\nimport App from './app/app';\r\nimport './index.css';\r\n\r\n// Create a store and get back itself and its history object\r\nconst { store, history } = createStore();\r\n\r\n// Running locally, we should run on a <ConnectedRouter /> rather than on a <StaticRouter /> like on the server\r\n// Let's also let React Frontload explicitly know we're not rendering on the server here\r\nconst Application = (\r\n  <Provider store={store}>\r\n    <ConnectedRouter history={history}>\r\n      <Frontload noServerRender={true}>\r\n        <App />\r\n      </Frontload>\r\n    </ConnectedRouter>\r\n  </Provider>\r\n);\r\n\r\nconst root = document.querySelector('#root');\r\n\r\nif (root.hasChildNodes() === true) {\r\n  // If it's an SSR, we use hydrate to get fast page loads by just\r\n  // attaching event listeners after the initial render\r\n  Loadable.preloadReady().then(() => {\r\n    hydrate(Application, root);\r\n  });\r\n} else {\r\n  // If we're not running on the server, just render like normal\r\n  render(Application, root);\r\n}\r\n"],"sourceRoot":""}